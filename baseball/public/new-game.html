<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
        <!-- Bootstrap JS (버튼, 모달창 등 동작용) -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
        <title>베이스볼 게임</title>
        <link rel="stylesheet" href="./stylesheets/newgame.css">
    </head>
    <body>
        <header class="top">
            <div class="container">
               <div class="logo">
                <a href="index.html">베이스볼 게임 메인페이지로 이동</a>
               </div>
            </div>
        </header>
        <section class="main">
            <div class="container digit-selector">
                <h1>원하는 수준의 자리수를 선택하여 주세요.</h1>
                <div class="number-selector">
                    <div class="number-circle">
                    <input id="digit-number" type="number" min="0" max="5" value="3">
                </div>
            </div>
            <a id="start-btn" type="button" class="btn btn-default btn-block">시작하기</a>
            </div>
        </section>

        <script>
 (function () {
   const startBtn = document.getElementById('start-btn');
   startBtn.addEventListener('click', e => {
     e.preventDefault();
     const digit = document.getElementById('digit-number').value;

     // 권장: 절대경로로 호출 (파일로 여는 경우까지 커버)
     fetch('/api/game', {
       method: 'POST',
       headers: new Headers({
         'Content-Type': 'application/json'   // ← 여기 오타였음!
       }),
       body: JSON.stringify({ digit })
     })
     .then(res => res.json())
     .then(v => location.assign(`game.html?id=${v.id}`))
     .catch(err => alert(err));
   });
 })();
</script>

    </body>

</html>
